<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/ebayDailyInside.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

        <!--  Main navbar  -->
<nav class="navbar-t">
    <div class="left">
        <!-- Auth Links will be dynamically updated here -->
        <p id="auth-links">Hi! <a href="login.html">Sign in</a> or <a href="signup.html">register</a></p>
        <p><a href="ebayDailyDeals.html">Daily Deals</a></p>
        <p><a href="brandoutlet.html">Brand Outlet</a></p>
        <p><a href="giftcard.html">Gift Cards</a></p>
        <p><a href="help&contact.html">Help & Support</a></p>
    </div>
    <ul class="menu">
        <li><a href="sell.html">Sell</a></li>
        <li><a href="wishlist.html">Wishlist</a> <i class="fa-solid fa-angle-down"></i></li>
        <li><a href="wishlist.html">My eBay</a> <i class="fa-solid fa-angle-down"></i></li>
        <a href="#"><i class="fa-regular fa-bell"></i></a>
        <a href="shoppingcart.html"><i class="fa-solid fa-cart-shopping"></i></a>
    </ul>
  </nav>
  
      <nav class="navbar-b">
        <a href="../index.html"><img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/EBay_logo.svg" alt="eBay Logo" class="logo"></a>
          <div class="category-dropdown">
              <p class="category-btn">Shop by Category <i class="fa-solid fa-angle-down"></i> </p>
              <div class="dropdown-content">
                  <div class="column">
                      <h4>Motors</h4>
                      <p>Parts & Accessories</p>
                      <p>Cars & Trucks</p>
                      <p>Motorcycles</p>
                      <p>Other Vehicles</p>
                  </div>
                  <div class="column">
                      <h4>Electronics</h4>
                      <p>Computers, Tablets & Network Hardware</p>
                      <p>Cell Phones, Smart Watches & Accessories</p>
                      <p>Video Games & Consoles</p>
                      <p>Cameras & Photo</p>
                  </div>
                  <div class="column">
                      <h4>Collectibles & Art</h4>
                      <p>Trading Cards</p>
                      <p>Collectibles</p>
                      <p>Coins & Paper Money</p>
                      <p>Sports Memorabilia</p>
                  </div>
                  <div class="column">
                      <h4>Home & Garden</h4>
                      <p>Yard, Garden & Outdoor Living Items</p>
                      <p>Tools & Workshop Equipment</p>
                      <p>Home Improvement</p>
                      <p>Kitchen, Dining & Bar Supplies</p>
                  </div>
              </div>
          </div>
          <div class="search-container">
              <i class="fa-solid fa-magnifying-glass"></i>
              <input type="text" placeholder="Search for anything" class="search-input">
              <select class="category-dropdown">
                  <option>All Categories</option>
                  <option>Electronics</option>
                  <option>Fashion</option>
                  <option>Home & Garden</option>
                  <option>Jewellery</option>
                  <option>Men's Wear</option>
                  <option>Women's Wear</option>
              </select>
              
          </div>
          <button class="search-button">Search</button>
          <a href="ebayAdvance.html" class="advanced-search">Advanced</a>
      </nav> <hr>
  
  <!--   main nav bar end -->
    <!-- <div>
    <a style="margin-left: 20px;" href="#">Back to previous page ></a>
    <a style="margin-left: 20px;" href="#">Electronics ></a>
    <a style="margin-left: 20px;" href="#">Cell Phones and Accessories ></a>
    <a style="margin-left: 20px;" href="#">Cell Phones and Smartphones ></a>
    <a style="margin-left: 20px;" href="#">Back to previous page</a>
</div> -->
<div id="box-1">
<p>Find similar items from <img id="headimg" src="https://i.ebayimg.com/images/g/LaUAAOSw74ti2Xy8/s-l100.jpg"><b>Smartphone digital specialty store 4.6K items sold </b><img  id="headimg" src="https://i.ebayimg.com/images/g/LaUAAOSw74ti2Xy8/s-l100.jpg"> <img id="headimg" src="https://i.ebayimg.com/images/g/LaUAAOSw74ti2Xy8/s-l100.jpg"> <img id="headimg" src="https://i.ebayimg.com/images/g/LaUAAOSw74ti2Xy8/s-l100.jpg"> <img  id="headimg" src="https://i.ebayimg.com/images/g/LaUAAOSw74ti2Xy8/s-l100.jpg">
    <a href ="#">Shop store on eBay</a> Sponsored</p>
</div>






<div id="top-1">
    <div id="col-1">
        <img id="col1-img"  src="https://www.sammobile.com/wp-content/uploads/2024/09/Samsung-Galaxy-S25-Ultra-Render-Front-Back.jpg"><br>
        <img id="col1-img"src="https://www.sammobile.com/wp-content/uploads/2024/09/Samsung-Galaxy-S25-Ultra-Render-Front-Back.jpg"><br>
        <img id="col1-img"src="https://www.sammobile.com/wp-content/uploads/2024/09/Samsung-Galaxy-S25-Ultra-Render-Front-Back.jpg"><br>
        <img id="col1-img"src="https://www.sammobile.com/wp-content/uploads/2024/09/Samsung-Galaxy-S25-Ultra-Render-Front-Back.jpg"><br>
    </div>
    <div id="col-2">
        <img id="col-2 img" src="https://www.sammobile.com/wp-content/uploads/2024/09/Samsung-Galaxy-S25-Ultra-Render-Front-Back.jpg">
    </div>

     <div id="col-3">
       <h2 style="font-weight: bolder;">Google Pixel 8 Pro 128GB Fully Unlocked - Good</h2>
       <hr>
       <img style=" margin-left:10px; width:130px; border-radius: 30px;" src="https://celltraders.ae/wp-content/uploads/2023/02/Logo.png">
       <a href="#">Cell Traders (13092)</a><br>
       <a href="#">98.8% positive  *Seller's other item *Contact seller </a>
       <hr>
      <h3>US $349.99</h3>
      <p>Condition:
        Good - RefurbishedGood<br><br>
        
       <b><i> “This device will show some scratches and scuffs on the body or screen but remains in good condition ”... Read more</b></i></p>
        <select id="select">
            <option value="color">Select</option>
            <option value="color">Obsidian</option>
            <option value="color">Bay</option>
            <option value="color">Procelain</option>
        </select><br><br>


        <label for="quantity"><b>Quantity :</b></label>
        <input style="width:60px ; height: 40px; border-radius: 10px;"   type="number" >
    
       


        <div style="margin-top: 60px;">
            <button id="buy">Buy It Now</button>
            <button id="cart">Add to Cart</button>
            <button id="wishlist">Add to Watchlist</button>
        </div>

        <div id="box-2"><br>
            
        <p> <img id="btryimg" src="https://www.shutterstock.com/shutterstock/photos/1187941477/display_1500/stock-vector-bolt-icon-vector-illustration-flat-design-style-vector-bolt-icon-illustration-isolated-on-white-1187941477.jpg">
        People want this. 770 people are watching this.</p>
        <p><img id="btryimg" src="https://www.shutterstock.com/shutterstock/photos/1187941477/display_1500/stock-vector-bolt-icon-vector-illustration-flat-design-style-vector-bolt-icon-illustration-isolated-on-white-1187941477.jpg">
            This one's trending. 545 have already sold.</p>
        </div>
    </div>



</div>


<h2 style="margin-top: 50px; margin-left: 20px;">Similar Items</h2>
<p style= "margin-left: 23px;">Sponsored <a style="margin-left: 480px;" href="feed">Feed back on our suggestation</a> | <a href="feed">See all</a></p>



<div id="top2" >
<div id="box-similar">
    <img id="img1" src="https://i.ebayimg.com/thumbs/images/g/fr8AAOSwlQ9nXG9j/s-l500.jpg">
    <p id="text-1"><a href="#">Google Pixel 8 Pro - 128 GB - Bay Blue Unlocked Google Ed</a>.<br><br>
        New (Other)<br><br>
       <b> $389.99</b><br>
        + US $36.17 shipping
        <b>Popular</b></p>
</div>

<div id="box-similar">
<img id="img1" src="https://i.ebayimg.com/thumbs/images/g/WIUAAOSwwy1mnwtF/s-l500.jpg">
<p id="text-1"><a href="#">Google Pixel 8 Pro G1MNW Unlocked 128GB Bay Good</a><br><br>
    Good - Refurbished<br><br>
    <b>$314.99</b><br>
    + US $71.01 shipping<br>
   <b> eBay Refurbished<br>
    90 sold </b></p>
</div>


<div id="box-similar">
    <p></p>
    <img id="img1" src="https://i.ebayimg.com/thumbs/images/g/E2cAAOSwJjdmoTC6/s-l500.jpg">
    <p id="text-1"><a href="#">Google Pixel 8 Pro G1MNW Unlocked 128GB Porcelain Very...</a><br><br>
        Very Good - <br>Refurbished<br><br>
        <b>$349.99</b><br>
        + US $35.72 shipping
        <b>eBay Refurbished</b><br>
        63 sold</p>
</div>



<div id="box-similar">
   <img id="img1" src="https://i.ebayimg.com/thumbs/images/g/GQsAAOSwsWRmn-M-/s-l500.jpg">
   <p id="text-1"><a href="#">Google Pixel 8 Pro G1MNW Unlocked 128GB Obsidian Good</a><br><br>
    Good - Refurbished<br><br>
   <b> $314.99</b><br>
    + US $33.95 shipping<br>
    <b>eBay Refurbished<br>
    39 sold</b></p>
</div>
</div>

<!-- <footer class="same-footer">
    <p>
      Copyright © 1995-2025 eBay Inc. All Rights Reserved.
      <a href="#" class="same-link">Accessibility</a>,
      <a href="#" class="same-link">User Agreement</a>,
      <a href="#" class="same-link">Privacy</a>,
      <a href="#" class="same-link">Payments Terms of Use</a>,
      <a href="#" class="same-link">Cookies</a>,
      <a href="#" class="same-link">CA Privacy Notice</a>,
      <a href="#" class="same-link">Your Privacy Choices</a>, and
      <a href="#" class="same-link">AdChoice</a>.
    </p>
  </footer>


  <div class="product-detail" id="product-detail">
   <h1>Loading Product...</h1> 
</div> -->
</body>

</html>


<script type="module">
    

    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
    import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";
    import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js";
    import { getFirestore, doc, updateDoc, arrayUnion, getDoc } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyA-8DveOlIlHvyK813rJbm4q-xTpdtb9n0",
        authDomain: "users-database-e953e.firebaseapp.com",
        databaseURL: "https://users-database-e953e-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "users-database-e953e",
        storageBucket: "users-database-e953e.firebasestorage.app",
        messagingSenderId: "622398829390",
        appId: "1:622398829390:web:930571c5fb5aa985a3641f",
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const authLinksDiv = document.getElementById("auth-links");
    const productDetail = document.getElementById("top-1");


    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('id');

    fetch("https://products-database-7e889-default-rtdb.asia-southeast1.firebasedatabase.app/.json")
        .then(res => res.json())
        .then(data => {
            const product = Object.values(data).flat().find(p => p.objectID == productId);
            if (product) {
                productData = {
                    productID: product.objectID,
                    name: product.name,
                    imageURL: product.image,
                    salePrice: product.salePrice,
                    description: product.shortDescription,
                    manufacturer: product.manufacturer
                };
                // Update the product detail section (optional)
                // productDetail.innerHTML = `
                //     <img src="${product.image}" alt="Product">
                //     <h2>${product.name}</h2>
                //     <p><strong>Seller:</strong> ${product.manufacturer}</p>
                //     <p><strong>Description:</strong> ${product.shortDescription}</p>
                //     <p><strong>Price:</strong> ₹${product.salePrice}</p>
                //     <p><strong>Type:</strong> ${product.type}</p>
                //     <p><strong>Reviews:</strong> ${product.customerReviewCount}</p>
                //     <button id="cart">Add to Cart</button>
                //     <button id="wishlist">Add to Wishlist</button>
                // `;
                productDetail.innerHTML = `
    <div id="col-1">
        <!-- Display multiple images of the product -->
        <img id="col1-img" src="${product.image}" alt="Image 1"><br>
        <img id="col1-img" src="${product.image}" alt="Image 2"><br>
        <img id="col1-img" src="${product.image}" alt="Image 3"><br>
        <img id="col1-img" src="${product.image}" alt="Image 4"><br>
    </div>

    <div id="col-2">

        <img style="margin-top: 70px; margin-left: 60px;" src="${product.thumbnailImage}" alt="Product Thumbnail">
    </div>

    <div id="col-3">

        <h2 style="font-weight: bolder;">${product.name}</h2>
        <hr>


        <img style="margin-left: 10px; width: 130px; border-radius: 30px;" src="${product.thumbnailImage}" alt="Seller Thumbnail"><br>
        <a href="#">Seller: ${product.manufacturer} ${product.bestSellingRank}</a><br>
        <a href="#">Seller Rank: ${product.bestSellingRank}</a><br>
        <a href="#">98.8% positive *Seller's other items* *Contact seller*</a>
        <hr>


        <h3>Price: ₹${product.salePrice}</h3>
        <h3>Sale Price Range: ₹${product.salePrice_range}</h3>
        <p>Condition: New</p><br>
        <b><i>${product.shortDescription}</i></b><br><br>


        <select id="select">
            <option value="color">Select Color</option>
            <option value="color">Obsidian</option>
            <option value="color">Bay</option>
            <option value="color">Porcelain</option>
        </select><br><br>

        <label for="quantity"><b>Quantity:</b></label>
        <input style="width: 60px; height: 40px; border-radius: 10px;" type="number" min="1" value="1"><br><br>


        <p>Free Shipping for orders above ₹999</p><br>


        <div style="margin-top: 60px;">
            <div style="background-color: rgb(21, 74, 220);" id="buy">Buy It Now</div>
            <button type="button" id="cart">Add to Cart</button>
            <button type="button" id="cart">Add to Wishlist</button>
        </div>
    </div>
`;
            } else {
                productDetail.innerHTML = `<p>Product not found.</p>`;
            }
        })
        .catch(error => {
            productDetail.innerHTML = `<p>Error loading product details.</p>`;
            console.error('Error:', error);
        });


        let productData;  



        document.body.addEventListener("click", (event) => {
            if (event.target && event.target.id === "cart") {
                event.preventDefault();
                if (productData) {
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    const isProductInCart = cart.some(product => product.productID === productData.productID);
                    if (!isProductInCart) {
                        cart.push(productData);
                        localStorage.setItem('cart', JSON.stringify(cart));
                        console.log("Product added to cart!");
                        alert("Product added to cart!");
                    } else {
                        alert("Product is already in the cart!");
                    }
                }
            }
            if (event.target && event.target.id === "wishlist") {
                event.preventDefault();
                if (productData) {
                    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                    const isProductInWishlist = wishlist.some(product => product.productID === productData.productID);
                    if (!isProductInWishlist) {
                        wishlist.push(productData);
                        localStorage.setItem('wishlist', JSON.stringify(wishlist));
                        console.log("Product added to wishlist!");
                        alert("Product added to wishlist!");
                    } else {
                        alert("Product is already in the wishlist!");
                    }
                }
            }
        });
        const searchInput = document.querySelector(".search-input");
  const searchbutton = document.querySelector(".search-button");
  let productName;
  searchInput.addEventListener("input", (e) => {
    productName = e.target.value;
  });
  searchbutton.addEventListener("click", (e) => {
    console.log(productName);

    fetch(
      "https://products-database-7e889-default-rtdb.asia-southeast1.firebasedatabase.app/.json"
    )
      .then((res) => res.json())
      .then((data) => {
        let filteringData = Object.values(data).filter((item) => {
          return (
            item.name &&
            item.name.toLowerCase().includes(productName.toLowerCase())
          );
        });

        console.log(filteringData);
        if (filteringData.length > 0) {
        localStorage.setItem('filteredProducts', JSON.stringify(filteringData));
        window.location.href = "laptop.html";
    }
      })
      .catch((err) => {
        console.error("Error fetching data:", err);
      });
    searchInput.value = "";
  });
 
</script>